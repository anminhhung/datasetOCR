and the Union troops were generally repulsed except on Johnston's right flank