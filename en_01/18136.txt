but eventually it was taken over by the almoravids in 1084