cupar is a town and former royal burgh in fife